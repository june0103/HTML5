<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>상품 구매</title>
<style type="text/css">
	table {
		width: 600px;
		margin: 40px auto;
	}
	img{
		width: 100px;
	}
</style>
<script type="text/javascript">
	window.onload = function() {
		//가격 정보를 갖는 객체
		var product = {
				c0 : 200000,
				c1 : 100000,
				c2 : 50000,
				c3 : 150000,
				c4 : 100000
		};
		var sum = 0, ship = 0; //ship배송비
		
		//상품 정보 읽어오기
		var inputs = document.getElementsByClassName('select');
		for (var i = 0; i < inputs.length; i++) {
			inputs[i].onclick = function() {
				if(this.checked){ //체크박스 선택시
					sum += product[this.id];
				}else{	//체크박스 해제시
					sum -= product[this.id];
				}
				//배송비 구하기. sum이 0이상 30만원 이상 이면 배송비 0
				if(sum>0 && sum<300000){
					ship = 5000;
				}else {
					ship = 0;
				}
				
				//상품합계금액, 배송비, 총 합계
				var spans = document.getElementsByTagName('span');
				spans[0].innerHTML = sum; //총상품가격
				spans[1].innerHTML = ship; //배송비
				spans[2].innerHTML = sum+ship; //총 합계
			};
		};
		
		
		
	
		
		
	}
</script>
</head>
<body>
<h2>상품 구매</h2>
<form action="orderProcess.jsp" method="post">
	<table>
		<caption>구매 상품 목록</caption>
		<tr>
			<td><img src="../images/bag.jpg"></td>
			<td><img src="../images/coat.jpg"></td>
			<td><img src="../images/jeans.jpg"></td>
			<td><img src="../images/giftCard.jpg"></td>
			<td><img src="../images/shoes.jpg"></td>
		</tr>
		<tr>
			<td> <input id="c0" class="select" type="checkbox" name="goods" value="bag">bag</td>
			<td> <input id="c1" class="select" type="checkbox" name="goods" value="coat">coat</td>
			<td> <input id="c2" class="select" type="checkbox" name="goods" value="jeans">jeans</td>
			<td> <input id="c3" class="select" type="checkbox" name="goods" value="gift Card">gift Card</td>
			<td> <input id="c4" class="select" type="checkbox" name="goods" value="shoes">shoes</td>
		</tr>
		<tr id="price">
			<td>(20만원)</td>
			<td>(10만원)</td>
			<td>(5만원)</td>
			<td>(15만원)</td>
			<td>(10만원)</td>
		</tr>
		<tr height="100">
			<td colspan="5">
				*<b>30만원 미만 결제</b>시 5,000원의 배송비가 추가됩니다.
			</td>
		</tr>
		<tr>
			<td id="preview" colspan="5">
				총 상품가격 <span>0</span>원 + 총 배송비 <span>0</span>원 = 총 주문금액 <span id="total">0</span> 원
			</td>
		</tr>
		<tr>
			<td id="buy" colspan="5">
				<input type="submit" value="구매">
			</td>
		</tr>
	</table>
</form>
</body>
</html>